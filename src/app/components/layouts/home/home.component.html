<div class="page-wrapper" id="main-wrapper" data-theme="blue_theme" data-layout="vertical" data-sidebartype="full" data-sidebar-position="fixed" data-header-position="fixed">
  <!-- navigation -->
  <app-sidebar></app-sidebar>
  <app-horizontalbar></app-horizontalbar>

  <div class="container">
    <div class="contenu">
      <div class="card bg-light-info shadow-none position-relative overflow-hidden">
        <div class="card-body px-4 py-3">
          <div class="row align-items-center">
            <div class="col-9">
              <h4 class="fw-semibold mb-8">Accueil</h4>
            </div>
            <div class="col-3">
              <div class="text-center mb-n5">
                <img src="assets/dist/images/breadcrumb/ChatBc.png" alt="" class="img-fluid mb-n4">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Ajout de la grille pour deux blocs -->
      <div class="row mt-4">
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Accidents/Incidents récents</h5>
              <ul class="list-group">
                <li *ngFor="let acc of latestAccInc" class="list-group-item">
                  {{ acc.type }}--- <b>{{acc.victime}}</b> &nbsp;&nbsp; ({{ acc.dateAccident }})
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Dotations d'équipements récents</h5>
              <ul class="list-group" *ngFor="let item of combinedData; let i = index">
                <li class="list-group-item"><b>{{ item.dotation.nom_beneficiaire }}</b> &nbsp;&nbsp; ({{ item.dotation.date }})</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- Fin de la grille pour deux blocs -->
       <!-- Troisième bloc -->
       <div class="col-md-12 mt-4">
        <div class="card">
          <div class="card-body">
            <!-- <h5 class="card-title">Totals</h5> -->
            <div class="row">
              <div class="col-md-4">
              <label for=""><h4>Total accidents:</h4></label>
              <h4>{{ getAccidents().length }}</h4>
              </div>
              <div class="col-md-4">
                <label for=""><h4>Total incidents:</h4></label>
                <h4>{{ getIncidents().length }}</h4>
              </div>
              <div class="col-md-4" *ngIf="combinedData.length > 0">
                <label for=""><h4>Total dotations:</h4></label>
                <h4>{{ numberOfDotations }}</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    
  

    </div>
  </div>
</div>
